<nav class="navbar navbar-default" role="navigation">
  <div class="navbar-header">
    <i class="icon-hylo-script" ng-click="close()"></i>
  </div>
  <div class="navbar-center" href="#">{{editing ? 'Edit' : 'New'}} Post</div>
  <a class="navbar-right close" ng-click="close()">&times;</a>
</nav>

<div class="main-content">
  <div class="all-sections">
    <div class="select-type">
      <div class="option intention" ng-class="{active: postType==='intention'}">
        <label>
          <input type="radio" ng-checked="postType==='intention'" ng-click="switchPostType('intention')">
            Intention
        </label>
      </div>
      <div class="option offer" ng-class="{active: postType==='offer'}">
        <label>
          <input type="radio" ng-checked="postType==='offer'" ng-click="switchPostType('offer')">
            Offer
        </label>
      </div>
      <div class="option request" ng-class="{active: postType==='request'}">
        <label>
          <input type="radio" ng-checked="postType==='request'" ng-click="switchPostType('request')">
            Request
        </label>
      </div>
      <p class="help">
        <span ng-if="postType==='intention'">Intention: Something you’d like to create, with the support of your community.</span>
        <span ng-if="postType==='offer'">Offer: Any skill, item, information, or opportunity that you’d like to share.</span>
        <span ng-if="postType==='request'">Request: Some skill, item, information, or opportunity that you're looking for.</span>
      </p>
    </div>

    <div class="edit-content">
      <div class="title">Title</div>
      <input type="text" class="form-control" ng-model="title"/>

      <div class="title">Description</div>
      <div ng-model="description" autocomplete="off" contenteditable="true"
        class="mentio-editor form-control elastic"
        placeholder="Add more detail here."
        mentio=""
        mentio-trigger-char="'@'"
        mentio-items="people"
        mentio-template-url="/ui/shared/people-mentions.tpl.html"
        mentio-search="searchPeople(term)"
        mentio-select="getPeopleTextRaw(item)"
        mentio-typed-term="typedTerm">
      </div>

      <div ng-if="shouldPickCommunity">
        <div class="title">Community</div>

        <div class="btn-group community-picker" dropdown>
          <a class="button" dropdown-toggle>
            {{community.name}}
            <span class="caret"></span>
          </a>
          <ul class="dropdown-menu" role="menu">
            <li ng-repeat="option in communityOptions" ng-click="pickCommunity(option.id)">
              {{option.name}}
            </li>
          </ul>
        </div>

      </div>

      <p class="help">This post will be visible only to other members of your community. You can edit or remove it at any time.</p>
    </div>

    <div class="bottom-bar">
      <div class="add-meta image">
        <a class="add-image" ng-click="addImage()">
          <i class="icon-add-photo"></i>
          <span ng-hide="addingImage">{{imageUrl ? 'Change' : 'Attach'}} Image</span>
          <span ng-show="addingImage">Please wait...</span>
        </a>

        <div ng-if="imageUrl" class="image-preview">
          <a class="thumbnail" ng-href="{{imageUrl}}" target="_blank"><img ng-src="{{imageUrl}}"/></a>
          <a class="remove" ng-click="removeImage()">&times;</a>
        </div>
      </div>

      <div class="add-meta done">
        <button type="button" class="save" ng-click="save()" ng-disabled="saving">
          <i class="icon-little-check"></i>
          <span ng-if="saving">Saving...</span>
          <span ng-hide="saving">{{editing ? 'Save Changes' : 'Create Post'}}</span>
        </button>
      </div>
    </div>

  </div>
</div>
